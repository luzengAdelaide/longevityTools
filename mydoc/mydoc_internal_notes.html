<!DOCTYPE html>
  <head>

 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Internal notes for maintaining this site.">
<meta name="keywords" content=" navigation tabs, hide sections, tabbers, interface tabs">
<title>Administration of site  | Manuals</title>
<link rel="stylesheet" type="text/css" href="../css/syntax.css">
<link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">-->
<link rel="stylesheet" type="text/css" href="../css/modern-business.css">
<link rel="stylesheet" type="text/css" href="../css/lavish-bootstrap.css">
<link rel="stylesheet" type="text/css" href="../css/customstyles.css">
<link rel="stylesheet" type="text/css" href="../css/theme-blue.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="../js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="../js/toc.js"></script>
<script src="../js/customscripts.js"></script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<link rel="shortcut icon" href="../common_images/favicon.ico" type="image/x-icon">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->







 


<script>
  $(function () {
      $('[data-toggle="tooltip"]').tooltip()
  })
</script>



  </head>

<body>

   <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="fa fa-home fa-lg navbar-brand" href="home.html">&nbsp;<span class="projectTitle"> Longevity Tools</span></a>

        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                









                
                
                
                
                <li><a href="http://www.longevitygenomics.org/" target="_blank">Longevity Genomics</a></li>
                
                
                
                
                
                <li><a href="https://github.com/tgirke/longevityTools" target="_blank">Github Repo</a></li>
                
                
                
                


                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->

                <li class="dropdown">
                    
                    
                    
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        <li><a href="https://cran.r-project.org/" target="_blank">CRAN</a></li>
                        
                        
                        
                        
                        
                        <li><a href="http://bioconductor.org/" target="_blank">Bioconductor</a></li>
                        
                        
                        
                        
                        
                        <li><a href="https://guides.github.com/activities/hello-world/" target="_blank">GitHub</a></li>
                        
                        
                        
                        
                        
                        <li><a href="http://jekyllrb.com/" target="_blank">Jekyll</a></li>
                        
                        
                        
                        

                    </ul>
                </li>
                
                


                <!-- special insertion -->

               
                <!-- Send feedback function -->
<script>
function SendLinkByMail(href) {
var subject= "Manuals feedback";
var body = "I have some feedback about the Administration of site page: ";
body += window.location.href;
body += "";
var uri = "mailto:?subject=";
uri += encodeURIComponent(subject);
uri += "&body=";
uri += encodeURIComponent(body);
window.location.href = uri;
}
</script>

<li><a href="javascript:(function()%7BSendLinkByMail()%3B%7D)()%3B" target="_blank"><i class="fa fa-envelope-o"></i> Feedback</a></li>


                <!--uncomment this block if you want simple search instead of algolia-->
                <li>
                     <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="../js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                        SimpleJekyllSearch.init({
                            searchInput: document.getElementById('search-input'),
                            resultsContainer: document.getElementById('results-container'),
                            dataSource: '../search.json',
                            searchResultTemplate: '<li><a href="{url}" title="Administration of site">{title}</a></li>',
                        noResultsText: 'No results found.',
                                limit: 10,
                                fuzzy: true,
                        })
                    </script>
                     <!--end search-->
                </li>

            
        </div>
        <!-- /.container -->
</nav>


    <!-- Page Content -->
    <div class="container">
        <div class="col-lg-12">&nbsp;</div>


<!-- Content Row -->
<div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">

        <script>

            $(document).ready(function() {
                // Initialize navgoco with default options
                $("#mysidebar").navgoco({
                    caretHtml: '',
                    accordion: true,
                    openClass: 'active', // open
                    save: false, // leave false or nav highlighting doesn't work right
                    cookie: {
                        name: 'navgoco',
                        expires: false,
                        path: '/'
                    },
                    slide: {
                        duration: 400,
                        easing: 'swing'
                    }
                });

                $("#collapseAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', false);
                });

                $("#expandAll").click(function(e) {
                    e.preventDefault();
                    $("#mysidebar").navgoco('toggle', true);
                });

            });

        </script>


        









        <ul id="mysidebar" class="nav">

            <span class="siteTagline"><img src="../common_images/logo.png"></span>
            <span class="versionTagline"></span>

            
            
            
                
            
            <li><a href="#">Overview</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/home.html">Introduction</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_current_projects.html">Current Projects</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_getting_started.html">Getting Started</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">Downloads</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_downloads.html">Download of Analysis Results</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_software.html">Software</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">longevityToolsOverview</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_1.html">1. Introduction</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_2.html">2. Getting Started</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_3.html">3. Overview of object clases, methods and functions</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_4.html">4. Workflow vignettes</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_5.html">5. Funding</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_6.html">6. Version information</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_7.html">7. References</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">longevityTools_eQTL</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_01.html">1. Introduction</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_02.html">2. General Analytical Approach</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_03.html">3. Getting Started</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_04.html">4. Setup of working environment</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_05.html">5. Sample data from GTEx</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_06.html">6. Utilities</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_07.html">7. SNP clumping using PLINK</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_08.html">8. Funding</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_09.html">9. Version information</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eQTL_10.html">10. References</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">longevityTools_eDRUG</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_01.html">1. Introduction</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_02.html">2. Getting Started</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_03.html">3. Setup of working environment</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_04.html">4. Data downloads</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_05.html">5. Pre-processing of CEL files</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_06.html">6. DEG analysis with `limma`</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_07.html">7. Connectivity maps enrichment analysis</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_08.html">8. Age-drug network analysis</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_09.html">9. Age-disease network analysis</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_10.html">10. Funding</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_11.html">11. Version information</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityTools_eDRUG_12.html">12. References</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">longevityDrugs</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_1.html">1. Introduction</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_2.html">2. Getting Started</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_3.html">3. Load database</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_4.html">4. Query database</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_5.html">5. Funding</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_6.html">6. Version information</a></li>
                    

                    

                    
                    
                    
                    
                    <li><a href="../mydoc/mydoc_longevityDrugs_7.html">7. References</a></li>
                    

                    

                    
                    
                </ul>
                
                
            
            <li><a href="#">Funding</a>
                <ul>
                    
                    
                    
                    <li><a href="../mydoc/mydoc_funding.html">Funding</a></li>
                    

                    

                    
                    
                </ul>
                
                
                


                <!-- if you aren't using the accordion, uncomment this block:

                     <p class="external">
                         <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
                     </p>
                 -->

    </div>
    <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
    <script>$("li.active").parents('li').toggleClass("active");</script>


            <!-- Content Column -->
            <div class="col-md-9">
                
                <div class="post-header">
   <h1 class="post-title-main">Administration of site</h1>
</div>

<div class="post-content">

   
    <div class="summary">Internal notes for maintaining this site.</div>
   

<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>


<div id="toc"></div>


<!--
    
    <a target="_blank" href="https://github.com/tgirke/manuals/tree/master/mydoc/" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
    
-->
<h2 id="how-to-create-a-new-instance-of-this-site">How to create a new instance of this site</h2>

<ol>
  <li>
    <p>Create a new project repository on GitHub and give it any name. For instance, the project 
described here was named <code class="highlighter-rouge">manuals</code>. This initial setup will be the project’s <code class="highlighter-rouge">master</code> branch. After this is done, clone the new repostitory to your 
local computer. If you are new to GitHub <a href="https://guides.github.com/activities/hello-world/">here</a> are some basic instructions for creating 
and managing GitHub repositories</p>
  </li>
  <li>
    <p>Download or clone the <a href="https://github.com/tomjohnson1492/documentation-theme-jekyll">Jekyll Documentation Theme</a>
from Tom Johnson. Then copy the directory’s content to your new project repository (here <code class="highlighter-rouge">manuals</code> directory).
Subsequently, commit and push its entire content to the <code class="highlighter-rouge">master</code> branch on GitHub.</p>
  </li>
  <li>
    <p>Add a <code class="highlighter-rouge">gh-pages</code> branch to your newly created GitHub project repository.
By adding a <code class="highlighter-rouge">gh-pages</code> branch to a GitHub project, one can host from this branch 
a web site (here Jekyll site) for a GitHub project repository. The <code class="highlighter-rouge">master</code> branch of this
project contains the source code of the site and its <code class="highlighter-rouge">gh-pages</code> branch the pre-built web 
site components. Instruction for setting up a <code class="highlighter-rouge">gh-pages</code> branch for an existing project 
are available <a href="https://help.github.com/articles/creating-project-pages-manually/">here</a>.</p>
  </li>
</ol>

<h2 id="edit-a-page">Edit a page</h2>

<h3 id="built-and-test-site-locally">Built and test site locally</h3>
<p>Run following command within the root directory of the project’s git repository
(here <code class="highlighter-rouge">~/Dropbox/Websites/manuals</code>) and then preview the site at the URL
printed to the terminal. Note, all paths are given here relative to this
directory.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">jekyll serve --config configs/mydoc/config_designers.yml</code></pre></figure>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note: </b> 
The built directory of the site is '../doc_outputs/mydoc/designers'. The changes are 
committed automatically when previewing the site with 'jekyll serve' or by executing the 'mydoc_*.sh' bash 
script(s) located in the root directory of the project.
</div>

<h3 id="edit-site-in-master-branch">Edit site in <code class="highlighter-rouge">master</code> branch</h3>
<p>Edits should be made in the project’s <a href="https://github.com/tgirke/manuals/tree/master">master</a> 
branch and then committed from there to the corresponding branch on GitHub.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git checkout master
vim ./mydoc/mydoc_some_page.md <span class="c"># Make changes to *.md pages in ./mydoc/</span>
git commit -am <span class="s2">"some edits"</span>; git push -u origin master</code></pre></figure>

<h3 id="sync-changes-to-gh-pages-branch">Sync changes to <code class="highlighter-rouge">gh-pages</code> branch</h3>
<p>Currently, the changes to <code class="highlighter-rouge">../doc_outputs/mydoc/designers</code> need to be synced into the 
<a href="https://github.com/tgirke/manuals/tree/gh-pages">gh-pages</a> branch of the project repository. The following accomplishes this with
<code class="highlighter-rouge">rsync</code>. The last two lines add, commit and push all changes to the <code class="highlighter-rouge">gh-pages</code> branch.
After this the changes should show up in the life version of the web site. Note, prior to
the syncing, one usually wants to shut down the locally running Jekyell server with
<code class="highlighter-rouge">Ctrl-c</code> in its terminal window.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git checkout gh-pages
rsync -avh --stats --progress ~/Dropbox/Websites/doc_outputs/mydoc/designers/ ~/Dropbox/Websites/manuals/
git add -A :/
git commit -am <span class="s2">"some edits"</span>; git push -u origin gh-pages
git checkout master</code></pre></figure>

<h3 id="bash-script-for-automation">Bash script for automation</h3>
<p>To automate the above workflow, run the following <code class="highlighter-rouge">buildAll.sh</code> bash script
from the root directory of the repository’s master branch.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./buildAll.sh</code></pre></figure>

<h2 id="adding-a-new-page">Adding a new page</h2>

<h3 id="create-page">Create page</h3>
<p>The easiest is usually to copy an existing page in <code class="highlighter-rouge">\mydoc</code> and then make the necessary 
changes to its Jekyll front matter section and content.</p>

<h3 id="sidebar-and-url-configuration">Sidebar and URL configuration</h3>
<p>Next, the new page needs to be registered properly in the sidebar and URL configuration 
files.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim _data/mydoc/mydoc_sidebar.yml
vim _data/mydoc/mydoc_urls.yml</code></pre></figure>

<p>After this the new page should be viewable in the local preview of your
browser.  This requires a running session of <code class="highlighter-rouge">jekyll serve ...</code> in the root
directory of the repository as shown above.</p>

<h3 id="commit-to-github">Commit to GitHub</h3>
<p>Similar as above add, commit and push changes to the <code class="highlighter-rouge">master</code> and <code class="highlighter-rouge">gh-pages</code> branches 
of the local and remote repositories or just run <code class="highlighter-rouge">buildAll.sh</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git checkout master
git commit -am <span class="s2">"some edits"</span>; git push -u origin master
git checkout gh-pages
rsync -avh --stats --progress ~/Dropbox/Websites/doc_outputs/mydoc/designers/ ~/Dropbox/Websites/manuals/
git add -A :/
git commit -am <span class="s2">"some edits"</span>; git push -u origin gh-pages
git checkout master</code></pre></figure>

<h2 id="r-markdown-integration">R markdown integration</h2>

<p>(1) Write R markdown vignette (<code class="highlighter-rouge">*.Rmd</code> file) in <code class="highlighter-rouge">./vignettes</code> directory (<em>e.g.</em> <code class="highlighter-rouge">./vignettes/Rbasics</code>).</p>

<p>(2) Render vignette to <code class="highlighter-rouge">.md</code> and <code class="highlighter-rouge">.html</code> files with <code class="highlighter-rouge">rmarkdown::render()</code>.</p>

<p>(3) Append <code class="highlighter-rouge">.md</code> file (here <code class="highlighter-rouge">Rbasics.knit.md</code>) to corresponding <code class="highlighter-rouge">.md</code> file in <code class="highlighter-rouge">./mydoc</code> directory.</p>

<p>(4) Remove front matter genereted by R markdown, but leave the one required for Jekyll</p>

<p>(5) Replace chode chunk tags to the ones required by Jekyll Doc Theme</p>

<p>(6) Move images into proper directory and adjust their path in the <code class="highlighter-rouge">.md</code> file</p>

<p>Run steps (2)-(6) with one command using the <code class="highlighter-rouge">render()</code> function and the <code class="highlighter-rouge">md2jekyll.R</code> script:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">echo</span> <span class="s2">"rmarkdown::render('Rbasics.Rmd', clean=FALSE)"</span> | R --slave; R CMD Stangle Rbasics.Rmd; Rscript ../md2jekyll.R Rbasics.knit.md 3</code></pre></figure>

<h2 id="useful-utilities">Useful utilities</h2>

<h3 id="site-wide-configurations">Site-wide configurations</h3>
<p>Edit this file accordingly.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">configs/mydoc/config_designers.yml</code></pre></figure>

<h3 id="check-differences-in-directories">Check differences in directories</h3>
<p>One can also double-check by downloading the changes from GitHub and then run <code class="highlighter-rouge">diff</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">diff -r ~/Dropbox/Websites/doc_outputs/mydoc/designers/ ~/Dropbox/Websites/manuals/</code></pre></figure>



<div class="tags">
    
</div>



</div>



<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2016 UC Riverside. All rights reserved. <br />
<p>Page last updated:</span> February 06, 2016<br/> Site last generated: Oct 11, 2016 <br />
<p><img src="../common_images/company_logo.png/></p>
                </div>
            </div>
</footer>




            </div><!-- /.row -->

    </div>    <!-- /.container -->

</body>


</html>

